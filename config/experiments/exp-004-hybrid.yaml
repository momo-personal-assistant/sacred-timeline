# EXP-004: Hybrid Strategy (Schema + Semantic)
# Based on memo: 스키마로 운영적 관계 → Cosine으로 의미적 관계 보완
# Goal: F1 68%+

name: "exp-004-hybrid"
description: "Hybrid: Schema-based relations first, then high-threshold semantic for supplementation"
created_at: "2025-11-27"

embedding:
  model: "text-embedding-3-small"
  dimensions: 1536
  batchSize: 100

chunking:
  strategy: "semantic"
  maxChunkSize: 500
  overlap: 50
  preserveMetadata: true

retrieval:
  similarityThreshold: 0.6
  chunkLimit: 20
  includeRelations: true
  relationDepth: 1

relationInference:
  # High threshold - only very similar items pass
  similarityThreshold: 0.6
  # Keyword overlap as additional signal
  keywordOverlapThreshold: 0.5
  includeInferred: true
  useSemanticSimilarity: true
  # Lower semantic weight - let keywords play larger role
  semanticWeight: 0.5

validation:
  runOnSave: true
  autoSaveExperiment: true
  scenarios:
    - "normal"

metadata:
  baseline: false
  platforms: ["linear", "zendesk", "slack"]
  experiment_series: "EXP-004"
  hypothesis: |
    - Schema-based relations (explicit) provide high precision
    - High threshold semantic (0.6) reduces false positives
    - Combined approach balances precision and recall
  notes: |
    Key changes from baseline:
    - similarityThreshold: 0.35 -> 0.6
    - keywordOverlapThreshold: 0.65 -> 0.5
    - semanticWeight: 0.7 -> 0.5 (more keyword influence)
